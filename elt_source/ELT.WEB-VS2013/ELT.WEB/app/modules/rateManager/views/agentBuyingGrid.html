


<div>
    <span ng-show="model!=undefined" style="text-align: center"><ng-transclude></ng-transclude></span>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th><button class="button btn-sm" ng-click="addCompany()" style="width: 200px;"><span class="glyphicon glyphicon-plus"></span> New Agent </button></th>
            </tr>
        </thead>
        <tbody ng-repeat="m in model" ng-hide="m.disabled">
            <tr>

                <td>
                    <table class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th><button class="button btn-sm" ng-click="removeCompany(m)" style="width: 100px;"><span class="glyphicon glyphicon-trash"></span> Agent </button></th>

                                <th><button class="button btn-sm" ng-click="addRoute(m)" style="width: 100px;"><span class="glyphicon glyphicon-plus"></span> Route </button></th>

                                <th colspan="1">
                                    <div custom-select="a.value as a.text for a in searchAgent($searchTerm)"  ng-disabled="m.companyDisabled"
                                         ng-model="m.companyNo"></div>
                                </th>
                                <th style="text-align: center">Origin</th>
                                <th style="text-align: center">Dest.</th>
                                <th style="text-align: center">KG/LB</th>

                                <th colspan="11" style="text-align: center">WT. BRK.</th>
                            </tr>

                        </thead>
                        <tbody ng-repeat="r in m.rateRoutes" ng-hide="r.disabled">
                            <tr>
                                <td></td>
                                <td><button ng-click="removeRoute(r, m)" class="button btn-sm"><span class="glyphicon glyphicon-trash"></span> Route</button></td>

                                <td><button ng-click="addCarrier(r)" style="width: 100px;" class="button btn-sm"><span class="glyphicon glyphicon-plus"></span> Carrier</button></td>
                                <td>
                                    <select class="sPortOrign" ng-model="r.originPort " required="required">
                                        <option ng-repeat="p in ports" value="{{p.value}}">{{p.value}}</option>
                                    </select>

                                </td>
                                <td>
                                    <select class="sPortDestin" ng-model="r.destPort " required="required" ng-disabled="existingRoute(r)">
                                        <option ng-repeat="p in ports" value="{{p.value}}">{{p.value}}</option>
                                    </select>
                                </td>

                                <td>

                                    <select class="sKgLb" ng-model="r.kgLb " required="required" ng-disabled="existingRoute(r)">
                                        <option value="K">KG</option>
                                        <option value="L">LB</option>

                                    </select>


                                </td>

                                <td>MIN.</td>
                                <td>+MIN.</td>

                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this); checkOrder(this);" ng-model="r.weightBreak[0]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this); checkOrder(this);" ng-model="r.weightBreak[1]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this); checkOrder(this);" ng-model="r.weightBreak[2]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this); checkOrder(this);" ng-model="r.weightBreak[3]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this); checkOrder(this);" ng-model="r.weightBreak[4]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this); checkOrder(this);" ng-model="r.weightBreak[5]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this); checkOrder(this);" ng-model="r.weightBreak[6]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this); checkOrder(this);" ng-model="r.weightBreak[7]" /></td>
                                <td>Share &#40;&#37;&#41;</td>

                            </tr>
                            <tr style="background-color: #f5f5f5" ng-repeat="c in r.perCarrier" ng-hide="c.disabled">
                                <td colspan="2"></td>
                                <td colspan="1"><button class="button btn-sm" ng-click="removeCarrier(r,c)"><span class="glyphicon glyphicon-trash"></span> Carrier </button></td>
                                <td colspan="3">
                                    <div custom-select="a.value as a.text for a in searchAirline($searchTerm)"
                                         ng-model="c.airline"></div>
                                </td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.min" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.minPlus" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.rateBreak[0]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.rateBreak[1]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.rateBreak[2]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.rateBreak[3]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.rateBreak[4]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.rateBreak[5]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.rateBreak[6]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.rateBreak[7]" /></td>
                                <td><input class="smallInputBox" type="text" onchange="checkNumeric(this)" ng-model="c.share" /></td>
                            </tr>
                        </tbody>
                    </table>

                </td>
            </tr>

        </tbody>
    </table>
    <span ng-show="model!=undefined" style="text-align: center"><ng-transclude></ng-transclude></span>
</div>

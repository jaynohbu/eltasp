
@{
    ViewBag.Title = "Page Access";
    Layout = "~/Views/Shared/_LayoutPopUp.cshtml";
}
@model List<ELT.CDT.AuthorizedPage>
<script>
    function btnSaveClick() {
        document.forms[0].submit();
    }
    function btnCloseClick() {
        self.close();
    }
    function selectAll(obj) {
        if ($(obj).attr("checked") == "checked") {

            $(".PageAcessCheck").attr("checked", "checked");
        }
        else {
            $(".PageAcessCheck").removeAttr("checked");
        }

    }
    function ItemChecked(obj) {
        if ($(obj).attr("checked") != "checked") {
            $("#chkAuthorizeAll").removeAttr("checked");
        }
    }

    $(document).ready(function () { if ($(".PageAcessCheck:not(:checked)").length ==0) { $("#chkAuthorizeAll").attr("checked", "checked"); } else { $("#chkAuthorizeAll").removeAttr("checked"); } });

</script>

    @using (Html.BeginForm("PageAccess", "SiteAdmin", FormMethod.Post))
    {

        <table width="95%" border="0" align="center" cellpadding="2" cellspacing="0">
            <tr>
                <td width="46%" height="32" align="left" valign="middle" class="pageheader">
                    Authorized Pages
                </td>
                <td width="54%" align="right" valign="bottom">
                    <input type="image" src="/images/button_save_medium.gif" onclick="btnSaveClick(); return false;" />
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <input type="image" src="/images/button_closebooking.gif" onclick="btnCloseClick(); return false;" />
                </td>
            </tr>
        </table>
        <table width="95%" border="0" align="center" cellpadding="0" cellspacing="0" bordercolor="#9190A5"
               class="border1px">
            <tr>
                <td height="8" align="left" valign="top" bgcolor="#C7C6E1" class="bodyheader"></td>
            </tr>
            <tr>
                <td height="1" align="left" valign="top" bgcolor="#9190A5"></td>
            </tr>
            <tr>
                <td align="left">
                    <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" class="bodycopy"
                           id="tblHeader" style="padding-left: 10px">
                        <tr class="bodyheader" bgcolor="#f3f3f3">
                            <td height="20" width="15%">
                                Top Module
                            </td>
                            <td width="15%">
                                Sub Module
                            </td>
                            <td width="30%">
                                Page Label
                            </td>
                            <td width="40%">
                                <input type="checkbox" id="chkAuthorizeAll" name="chkAuthorizeAll" onclick="selectAll(this);" />  Select All
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td align="left">
                    <table width="100%" border="0" align="center" cellpadding="0" cellspacing="0" class="bodycopy"
                           id="tblContent" style="padding-left: 10px">
                        <tr>
                            <td height="5"></td>
                        </tr>

                        @Html.EditorFor(m => m)
                        <tr>
                            <td height="5"></td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <br />
    }

